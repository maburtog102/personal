<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lista de Participantes</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .switch {
      position: relative;
      display: inline-block;
      width: 60px;
      height: 34px;
      margin-right: 10px;
    }
    .switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }
    .slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: #ccc;
      transition: 0.4s;
      border-radius: 34px;
    }
    .slider:before {
      position: absolute;
      content: "";
      height: 26px;
      width: 26px;
      left: 4px;
      bottom: 4px;
      background-color: white;
      transition: 0.4s;
      border-radius: 50%;
    }
    input:checked + .slider {
      background-color: #4CAF50;
    }
    input:checked + .slider:before {
      transform: translateX(26px);
    }
    body {
      background-color: #ffd4f8 !important;
    }
    .numero {
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    .numero:hover {
      transform: scale(1.05);
      box-shadow: 0 4px 15px rgba(0,0,0,0.2);
    }
    span#lbl {
      font-weight: bold;
      color: blue;
    }
    /* Modal estilos */
    .modal {
      display: none;
      position: fixed;
      z-index: 50;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.8);
      justify-content: center;
      align-items: center;
    }
    .modal img {
      max-width: 90%;
      max-height: 80%;
      border-radius: 12px;
      box-shadow: 0 0 20px rgba(0,0,0,0.6);
    }
    .modal-close {
      position: absolute;
      top: 20px;
      right: 30px;
      font-size: 30px;
      font-weight: bold;
      color: white;
      cursor: pointer;
    }
  </style>
</head>
<body class="bg-gray-200 min-h-screen flex flex-col items-center p-6">

  <!-- Texto promocional -->
  <p class="text-lg sm:text-xl font-semibold text-gray-700 mb-3 text-center">
    Grandiosa rifa de premio X (tú lo cambias) a efectuarse el <span class="font-bold">14 de octubre</span> 
    con los últimos dos dígitos de la Lotería Nacional de Nicaragua
  </p>

  <!-- Encabezado con miniatura del premio -->
  <div class="flex items-center gap-3 mb-6">
    <img src="img/logo.png" alt="Premio" class="h-12 w-12 object-cover cursor-pointer rounded shadow" id="thumbnail">
    <h1 class="text-2xl sm:text-3xl font-bold text-gray-800">Lista de Participantes</h1>
    <label id="switchLabel">
      <span class="switch">
        <input type="checkbox" id="mySwitch">
        <span class="slider"></span>
      </span>
      <span id="lbl">Todos</span>
    </label>
  </div>

  <!-- Modal preview -->
  <div id="modal" class="modal flex">
    <span class="modal-close">&times;</span>
    <img src="img/logo.png" alt="Premio Grande">
  </div>
  
  <!-- Grilla adaptable -->
  <div id="grid" class="grid grid-cols-3 sm:grid-cols-5 lg:grid-cols-10 gap-4 w-full max-w-6xl"></div>

  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  <script>
    // Participantes vendidos (numero: nombre)
    const participantes = {
      "0": "Maykel Aburto",
      "1": "Kathy Aburto",
      "2": "Olga Matus",
      // ... (resto de participantes)
      "99": "Thelma Chavez"
    };

    const grid = document.getElementById("grid");
    const mySwitch = document.getElementById('mySwitch');

    mySwitch.addEventListener('change', function() {
      if (this.checked) {
        $('#lbl').text('Disponibles');
        $('.bg-blue-500').parent().hide();
      } else {
        $('#lbl').text('Todos');
        $('.bg-blue-500').parent().show();
      }
    });

    for (let i = 0; i <= 99; i++) {
      const container = document.createElement("div");
      container.classList.add("flex", "flex-col", "items-center", "justify-center", "p-2", "rounded-xl", "numero", "bg-white/70", "backdrop-blur");

      const numTexto = i.toString().padStart(2, "0");

      const numberBox = document.createElement("div");
      numberBox.textContent = numTexto;
      numberBox.classList.add("h-14", "w-14", "flex", "items-center", "justify-center", "rounded-xl", "font-bold", "text-lg");

      const label = document.createElement("span");
      label.classList.add("mt-1", "text-[10px]", "sm:text-xs", "font-medium", "text-center");

      if (participantes[i]) {
        numberBox.classList.add("bg-blue-500", "text-white", "line-through");
        container.setAttribute("title", "Número vendido");

        label.textContent = participantes[i];
        label.classList.add("text-gray-800");
      } else {
        numberBox.classList.add("bg-gray-400", "text-white");
        container.setAttribute("title", "Número disponible");

        label.textContent = "Disponible";
        label.classList.add("text-gray-600");
      }

      container.appendChild(numberBox);
      container.appendChild(label);
      grid.appendChild(container);
    }

    // Modal preview lógica
    const modal = document.getElementById("modal");
    const thumbnail = document.getElementById("thumbnail");
    const modalImg = modal.querySelector("img");
    const modalClose = modal.querySelector(".modal-close");

    thumbnail.onclick = () => {
      modal.style.display = "flex";
    };

    modalClose.onclick = () => {
      modal.style.display = "none";
    };

    modal.onclick = (e) => {
      if (e.target === modal) modal.style.display = "none";
    };
  </script>
</body>
</html>
